version: "3.9"

services:
  api:
    build: ..././MeetMe-Backend/
    environment:
      APP_PORT: 8080
      APP_SECRET: "Hk89LSUPn3r4JDL@#@#$LJJKJDP00-.KJOS"
      MONGO_USERNAME: MeetMeUser
      MONGO_PASSWORD: Ntw171044
    ports:
      - '8080:8080'
    networks:
      - mynetwork
  web:
    image: nginx
    ports:
      - '80:80'
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    networks:
      - mynetwork
  fe:
    container_name: react-docker
    build: .././MeetMe-Frontend/
    volumes:
      - '.././MeetMe-Frontend/:/usr/src/app'
      - '/usr/src/app/node_modules'
    ports:
      - '3000:3000'
    environment:
      - NODE_ENV=${NODE_ENV}
    networks:
      - mynetwork
networks:
  mynetwork:
    driver: bridge